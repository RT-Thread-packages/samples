# 消息队列的使用 #

## 介绍 ##

这个例程展示了如何在RT-Thread里使用消息队列。

## 运行结果 ##

```{.c}
 \ | /
- RT -     Thread Operating System
 / | \     3.0.3 build Apr 27 2018
 2006 - 2018 Copyright by rt-thread team
thread2: send message - 0
thread1: recv msg from msg queue, the content:0
finsh >thread2: send message - 1
thread2: send message - 2
thread2: send message - 3
thread2: send message - 4
thread2: send message - 5
thread2: send message - 6
thread2: send message - 7
thread2: send message - 8
thread2: send message - 9
thread1: recv msg from msg queue, the content:1
thread2: send message - 10
thread2: send message - 11
thread2: send message - 12
thread2: send message - 13
thread2: send message - 14
thread2: send message - 15
thread2: send message - 16
thread2: send message - 17
thread2: send message - 18
thread2: send message - 19
thread1: recv msg from msg queue, the content:2
thread2: send message - 20
thread2: send message - 21
thread2: send message - 22
thread2: send message - 23
thread2: send message - 24
thread2: send urgent message - 25
thread2: send message - 26
thread2: send message - 27
thread2: send message - 28
thread2: send message - 29
thread1: recv msg from msg queue, the content:25
thread2: send message - 30
thread2: send message - 31
thread2: send message - 32
thread2: send message - 33
thread2: send message - 34
thread2: send message - 35
thread2: send message - 36
thread2: send message - 37
thread2: send message - 38
thread2: send message - 39
thread1: recv msg from msg queue, the content:3
thread2: send message - 40
thread2: send message - 41
thread2: send message - 42
thread2: send message - 43
thread2: send message - 44
thread2: send message - 45
thread2: send message - 46
thread2: send message - 47
thread2: send message - 48
thread2: send message - 49
thread1: recv msg from msg queue, the content:4
message queue stop send, thread2 quit
thread1: recv msg from msg queue, the content:5
thread1: recv msg from msg queue, the content:6
thread1: recv msg from msg queue, the content:7
thread1: recv msg from msg queue, the content:8
thread1: recv msg from msg queue, the content:9
thread1: recv msg from msg queue, the content:10
thread1: recv msg from msg queue, the content:11
thread1: recv msg from msg queue, the content:12
thread1: recv msg from msg queue, the content:13
thread1: recv msg from msg queue, the content:14
thread1: recv msg from msg queue, the content:15
thread1: recv msg from msg queue, the content:16
thread1: recv msg from msg queue, the content:17
thread1: recv msg from msg queue, the content:18
thread1: recv msg from msg queue, the content:19
thread1: recv msg from msg queue, the content:20
thread1: recv msg from msg queue, the content:21
thread1: recv msg from msg queue, the content:22
thread1: recv msg from msg queue, the content:23
thread1: recv msg from msg queue, the content:24
thread1: recv msg from msg queue, the content:26
thread1: recv msg from msg queue, the content:27
thread1: recv msg from msg queue, the content:28
thread1: recv msg from msg queue, the content:29
thread1: recv msg from msg queue, the content:30
thread1: recv msg from msg queue, the content:31
thread1: recv msg from msg queue, the content:32
thread1: recv msg from msg queue, the content:33
thread1: recv msg from msg queue, the content:34
thread1: recv msg from msg queue, the content:35
thread1: recv msg from msg queue, the content:36
thread1: recv msg from msg queue, the content:37
thread1: recv msg from msg queue, the content:38
thread1: recv msg from msg queue, the content:39
thread1: recv msg from msg queue, the content:40
thread1: recv msg from msg queue, the content:41
thread1: recv msg from msg queue, the content:42
thread1: recv msg from msg queue, the content:43
thread1: recv msg from msg queue, the content:44
thread1: recv msg from msg queue, the content:45
thread1: recv msg from msg queue, the content:46
thread1: recv msg from msg queue, the content:47
thread1: recv msg from msg queue, the content:48
thread1: recv msg from msg queue, the content:49
thread1: detach mq
```